#include <bits/stdc++.h>
using namespace std;

int main() {
    ios::sync_with_stdio(false);
    cin.tie(nullptr);
    int g;
    cin >> g;
    while (g--) {
        int n, m, x;
        cin >> n >> m >> x;
        vector<int> a(n), b(m);
        for (int i = 0; i < n; i++) cin >> a[i];
        for (int i = 0; i < m; i++) cin >> b[i];
        int sum = 0, i = 0, j = 0, res = 0;
        while (i < n && sum + a[i] <= x) sum += a[i++];
        res = i;
        while (j < m && i >= 0) {
            sum += b[j++];
            while (sum > x && i > 0) sum -= a[--i];
            if (sum <= x) res = max(res, i + j);
        }
        cout << res << "\n";
    }
}
